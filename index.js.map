{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["import { AxiosHeaders } from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nfunction searchImages(imgsName) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n\n  const params = new URLSearchParams({\n    key: '48904751-5a5ebea07cb3b99a0a07eaa8f',\n    q: imgsName,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  const url = `${BASE_URL}${END_POINT}?${params}`;\n\n  const options = {\n    headers: { Accept: 'application/json' },\n  };\n\n  return fetch(url, options).then(res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      throw new Error(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    }\n  });\n}\n\n// !==================================================ПРОСЛУХОВУВАЧ\n\nconst refs = {\n  formInput: document.querySelector('.js-create-form'),\n  imgList: document.querySelector('.img-list'),\n};\n\nrefs.formInput.addEventListener('submit', e => {\n  e.preventDefault();\n  const userValue = e.target.elements.imgTitle.value.trim();\n  searchImages(userValue).then(renderImgs).catch();\n  e.target.reset();\n});\n\n// !=======================================imgTemplate\n\nfunction imageTemplate(images) {\n  const {\n    largeImageURL,\n    webformatURL,\n    tags,\n    likes,\n    views,\n    comments,\n    downloads,\n  } = images.hits;\n  return images.hits\n    .map(\n      image => `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=${image.largeImageURL}>\n        <img\n          class=\"gallery-image\"\n          src=${image.webformatURL}\n          alt=${image.tags}\n        />\n      </a>\n      <div class=\"description-wrap\">\n  <div class=\"imgs-properties\">\n    <p class=\"imgs-properties-name\">Likes</p>\n    <p class=\"imgs-properties-value\">${image.likes}</p>\n  </div>\n  <div class=\"imgs-properties\">\n    <p class=\"imgs-properties-name\">Views</p>\n    <p class=\"imgs-properties-value\">${image.views}</p>\n  </div>\n  <div class=\"imgs-properties\">\n    <p class=\"imgs-properties-name\">Comments</p>\n    <p class=\"imgs-properties-value\">${image.comments}</p>\n  </div>\n  <div class=\"imgs-properties\">\n    <p class=\"imgs-properties-name\">Downloads</p>\n    <p class=\"imgs-properties-value\">${image.downloads}</p>\n  </div>\n</div>\n    </li>\n  `\n    )\n    .join('');\n}\n\nfunction renderImgs(images) {\n  const markup = imageTemplate(images);\n  refs.imgList.insertAdjacentHTML('beforeend', markup);\n}\n\n// new SimpleLightbox('.img-list a', {\n//   captionsData: 'alt',\n//   captionPosition: 'bottom',\n//   captionDelay: 250,\n// });\n"],"names":["searchImages","imgsName","BASE_URL","END_POINT","params","url","res","refs","e","userValue","renderImgs","imageTemplate","images","image","markup"],"mappings":"0uBAMA,SAASA,EAAaC,EAAU,CAC9B,MAAMC,EAAW,sBACXC,EAAY,QAEZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEKI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAM7C,OAAO,MAAMC,EAJG,CACd,QAAS,CAAE,OAAQ,kBAAoB,CAC3C,CAE2B,EAAE,KAAKC,GAAO,CACrC,GAAIA,EAAI,GACN,OAAOA,EAAI,OAEX,MAAM,IAAI,MACR,0EACR,CAEA,CAAG,CACH,CAIA,MAAMC,EAAO,CACX,UAAW,SAAS,cAAc,iBAAiB,EACnD,QAAS,SAAS,cAAc,WAAW,CAC7C,EAEAA,EAAK,UAAU,iBAAiB,SAAUC,GAAK,CAC7CA,EAAE,eAAc,EAChB,MAAMC,EAAYD,EAAE,OAAO,SAAS,SAAS,MAAM,OACnDR,EAAaS,CAAS,EAAE,KAAKC,CAAU,EAAE,MAAK,EAC9CF,EAAE,OAAO,OACX,CAAC,EAID,SAASG,EAAcC,EAAQ,CASzB,OAAAA,EAAO,KACJA,EAAO,KACX,IACCC,GAAS;AAAA,qCACsBA,EAAM,aAAa;AAAA;AAAA;AAAA,gBAGxCA,EAAM,YAAY;AAAA,gBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uCAMaA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,uCAIXA,EAAM,KAAK;AAAA;AAAA;AAAA;AAAA,uCAIXA,EAAM,QAAQ;AAAA;AAAA;AAAA;AAAA,uCAIdA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAKjD,EACA,KAAK,EAAE,CACZ,CAEA,SAASH,EAAWE,EAAQ,CAC1B,MAAME,EAASH,EAAcC,CAAM,EACnCL,EAAK,QAAQ,mBAAmB,YAAaO,CAAM,CACrD"}